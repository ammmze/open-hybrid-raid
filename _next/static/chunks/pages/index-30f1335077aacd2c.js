(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2613)}])},2613:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return H}});var t=r(5893),i=r(9008),o=r(7379);function c(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function s(){var e=u(["\n    margin: 0.3em;\n    background-image: url('","/images/hard-disk-svgrepo-com.svg');\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: contain;\n    display: inline-flex;\n    width: 75px;\n    height: 75px;\n    justify-content: center;\n    align-items: flex-end;\n    border: 0;\n    background-color: transparent;\n    cursor: pointer;\n    padding: 0;\n"]);return s=function(){return e},e}function l(){var e=u(["\n    background-color: #FFFFFF99;\n    padding: 0.3em 0;\n    width: 100%;\n    text-align: center;\n    font-size: 14px;\n"]);return l=function(){return e},e}var f=(0,r(1752).default)().publicRuntimeConfig,d=o.ZP.div(s(),f.basePath),p=o.ZP.div(l()),h=function(e){var n=e.size,r=a(e,["size"]),i=n>=1e3?"TB":"GB",o="TB"===i?n/1e3:n;return(0,t.jsx)(d,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){c(e,n,r[n])}))}return e}({},r,{children:(0,t.jsxs)(p,{children:[o," ",i]})}))},b=function(){return(0,t.jsx)("span",{children:(0,t.jsx)("a",{href:"https://svgrepo.com",children:"Icons by svgrepo.com"})})};function y(){var e,n,r=(e=["\n    top: 100vh;\n    position: sticky;\n\n    padding: 3em 5em;\n    background-color: #CFCFCF;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return y=function(){return r},r}var g=o.ZP.footer(y()),j=function(e){var n=e.children;return(0,t.jsx)(g,{children:n})};function m(){var e,n,r=(e=["\n    html, body, body > div#__next {\n        height: 100%\n    }\n    body {\n        margin: 0;\n        font-family: sans-serif;\n        font-size: 16px;\n    }\n    * {\n        box-sizing: border-box;\n    }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return m=function(){return r},r}var v=(0,o.vJ)(m()),x=r(7294);function O(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function k(){var e=w(["\n    padding: 0.3em;\n    margin: 0.3em;\n    border-raidus: 5px;\n    border: 2px dashed blue;\n"]);return k=function(){return e},e}function z(){var e=w(["\n    width: 100%;\n    text-align: center;\n    flex-basis: 100%;\n    margin: 0.3em;\n"]);return z=function(){return e},e}var P=o.ZP.div(k()),S=o.ZP.div(z()),C=function(e){var n=e.children,r=e.arrays,i=r.reduce((function(e,n){return e+n.arraySize}),0),o=r.filter((function(e){return!!e.type})).reduce((function(e,n){return e+n.partitionSize}),0),c=r.filter((function(e){return!e.type})).reduce((function(e,n){return e+n.partitionSize}),0);return(0,t.jsxs)(P,{children:[(0,t.jsxs)(S,{children:["Volume Group / Hybrid Array",(0,t.jsx)("br",{}),"(Usable size: ",i/1e3," TB. Protection size: ",o/1e3," TB. Unused: ",c/1e3," TB.)"]}),n]})};function E(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function A(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function F(){var e,n,r=(e=["\n    background: ",";\n    border-color: #999;\n    height: ",";\n    width: 100px;\n    display: flex;\n    margin: 0.3em;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    border-radius: 5px;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return F=function(){return r},r}var _=o.ZP.div(F(),(function(e){switch(e.type){case 1:return"lightblue";case 5:return"lightgreen";default:return"#CFCFCF"}}),(function(e){return"".concat(e.size/1e3,"em")})),D=function(e){var n=e.size,r=A(e,["size"]);return(0,t.jsxs)(_,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){E(e,n,r[n])}))}return e}({size:n},r,{children:[n/1e3," TB"]}))};function T(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function B(){var e=T(["\n    border: 2px dashed red;\n    padding: 0.3em;\n    margin: 0.3em;\n    display: flex;\n    border-radius: 5px;\n    flex-wrap: wrap;\n"]);return B=function(){return e},e}function I(){var e=T(["\n    width: 100%;\n    text-align: center;\n    flex-basis: 100%;\n    margin: 0.3em;\n"]);return I=function(){return e},e}var N=o.ZP.div(B()),Z=o.ZP.div(I()),R=function(e){var n=e.children,r=e.type;return(0,t.jsxs)(N,{children:[n,r?(0,t.jsxs)(Z,{children:["RAID ",r]}):(0,t.jsx)(Z,{children:"Unused"})]})},q=r(1163);function U(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function G(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){U(e,n,r[n])}))}return e}var X=[500,1e3,2e3,3e3,4e3,6e3,8e3,1e4,12e3,14e3,16e3];function H(){var e=(0,q.useRouter)(),n=function(e){var n=(0,x.useState)([]),r=n[0],t=n[1];(0,x.useEffect)((function(){console.log("replace disks",(e.disks||[]).join(",")),t(e.disks||[])}),[(e.disks||[]).join(",")]);var i=O(r),o=[];do{var c,a=(c=Math).min.apply(c,O(i));if(a<=0||!Number.isFinite(a))break;if(i.length>=3)o.push({type:5,partitionSize:a,partitionCount:i.length,arraySize:a*(i.length-1)});else{if(2!==i.length){o.push({partitionSize:a,partitionCount:i.length,arraySize:0});break}o.push({type:1,partitionSize:a,partitionCount:i.length,arraySize:a})}i=i.map((function(e){return e-a})).filter((function(e){return e>0}))}while(i.length>0);return{disks:r,arrays:o,addDisk:function(e){t((function(n){return O(n).concat([e])}))},removeDisk:function(e){t((function(n){var r=O(n);return r.splice(e,1),r}))}}}({disks:(e.query.disks||"").split("~").map((function(e){return 1e3*Number(e)})).filter((function(e){return e>0}))}),r=n.arrays,o=n.disks,c=n.addDisk,a=n.removeDisk,u=o.map((function(e){return e/1e3})).join("~");return(0,x.useEffect)((function(){!e.query.disks&&u.length<1||(console.log("replace url",u),e.replace({pathname:window.location.pathname,query:G({},e.query,{disks:u})},void 0,{shallow:!0}))}),[u]),(0,t.jsxs)(x.Fragment,{children:[(0,t.jsx)(v,{}),(0,t.jsxs)(i.default,{children:[(0,t.jsx)("title",{children:"Create Next App"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsxs)("main",{style:{padding:"2em"},children:[(0,t.jsxs)("div",{style:{textAlign:"center"},children:[(0,t.jsx)("h3",{children:"Select disks to add to array"}),X.sort((function(e,n){return n-e})).map((function(e){return(0,t.jsx)(h,{as:"button",size:e,onClick:function(){return c(e)}},e)}))]}),(0,t.jsx)("hr",{}),(0,t.jsx)("h3",{children:"Breakdown"}),(0,t.jsx)("p",{children:"Each RAID array that should be created is outlined in red. Each column is a single disk."}),(0,t.jsx)("p",{children:"The general process is to iterate through creating RAID 5 arrays with the largest partition size that fits across all remaining disks and there 3+ disks that can support that partitition size. Eventually you may then only have 2 disks that can create the same size partition, in which case a RAID 1 array created and then leaving you with a single disk with an un-used partition."}),(0,t.jsxs)(C,{arrays:r,children:[o.map((function(e,n){return{size:e,index:n}})).sort((function(e,n){return n.size-e.size})).map((function(e){var n=e.size,r=e.index;return(0,t.jsx)(h,{as:"button",size:n,onClick:function(){return a(r)},style:{width:"calc(".concat(100/(o.length||100),"% - 0.3em * 2)")}},"".concat(r,"-").concat(n))})),r.map((function(e,n){return(0,t.jsx)(R,{type:e.type,children:Array.from(Array(e.partitionCount)).map((function(r,i){return(0,t.jsx)(D,{size:e.partitionSize,type:e.type,style:{width:"calc(".concat(100/(o.length||100),"% - 0.3em * 2)")}},"".concat(n,".").concat(i))}))},n)}))]})]}),(0,t.jsx)(j,{children:(0,t.jsx)(b,{})})]})}}},function(e){e.O(0,[774,969,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);